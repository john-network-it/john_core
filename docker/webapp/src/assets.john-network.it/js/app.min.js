var app={id:"#app",isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<992,bootstrap:{tooltip:{attr:'data-bs-toggle="tooltip"'},popover:{attr:'data-bs-toggle="popover"'},modal:{attr:'data-bs-toggle="modal"',dismissAttr:'data-bs-dismiss="modal"',event:{hidden:"hidden.bs.modal"}},nav:{class:"nav",tabs:{class:"nav-tabs",activeClass:"active",itemClass:"nav-item",itemLinkClass:"nav-link"}}},header:{id:"#header",class:"app-header",hasScrollClass:"has-scroll"},sidebar:{id:"#sidebar",class:"app-sidebar",scrollBar:{localStorage:"appSidebarScrollPosition",dom:""},menu:{class:"menu",initAttr:"data-init",animationTime:0,itemClass:"menu-item",itemLinkClass:"menu-link",hasSubClass:"has-sub",activeClass:"active",expandingClass:"expanding",expandClass:"expand",submenu:{class:"menu-submenu"}},mobile:{toggleAttr:'data-toggle="app-sidebar-mobile"',dismissAttr:'data-dismiss="app-sidebar-mobile"',toggledClass:"app-sidebar-mobile-toggled",closedClass:"app-sidebar-mobile-closed",backdrop:{class:"app-sidebar-mobile-backdrop"}},minify:{toggleAttr:'data-toggle="app-sidebar-minify"',toggledClass:"app-sidebar-minified",cookieName:"app-sidebar-minified"},floatSubmenu:{id:"#app-sidebar-float-submenu",dom:"",timeout:"",class:"app-sidebar-float-submenu",container:{class:"app-sidebar-float-submenu-container"},arrow:{id:"#app-sidebar-float-submenu-arrow",class:"app-sidebar-float-submenu-arrow"},line:{id:"#app-sidebar-float-submenu-line",class:"app-sidebar-float-submenu-line"},overflow:{class:"overflow-scroll mh-100vh"}},search:{class:"menu-search",toggleAttr:'data-sidebar-search="true"',hideClass:"d-none",foundClass:"has-text"},transparent:{class:"app-sidebar-transparent"}},scrollBar:{attr:'data-scrollbar="true"',skipMobileAttr:"data-skip-mobile",heightAttr:"data-height",wheelPropagationAttr:"data-wheel-propagation"},content:{id:"#content",class:"app-content",fullHeight:{class:"app-content-full-height"},fullWidth:{class:"app-content-full-width"}},layout:{sidebarLight:{class:"app-with-light-sidebar"},sidebarEnd:{class:"app-with-end-sidebar"},sidebarWide:{class:"app-with-wide-sidebar"},sidebarMinified:{class:"app-sidebar-minified"},sidebarTwo:{class:"app-with-two-sidebar"},withoutHeader:{class:"app-without-header"},withoutSidebar:{class:"app-without-sidebar"},topMenu:{class:"app-with-top-menu"},boxedLayout:{class:"boxed-layout"}},scrollToTopBtn:{showClass:"show",heightShow:200,toggleAttr:'data-toggle="scroll-to-top"',scrollSpeed:500},scrollTo:{attr:'data-toggle="scroll-to"',target:"data-target",linkTarget:"href"},themePanel:{class:"app-theme-panel",toggleAttr:'data-toggle="theme-panel-expand"',cookieName:"app-theme-panel-expand",activeClass:"active",themeListCLass:"app-theme-list",themeListItemCLass:"app-theme-list-item",themeCoverClass:"app-theme-cover",themeCoverItemClass:"app-theme-cover-item",theme:{toggleAttr:'data-toggle="theme-selector"',classAttr:"data-theme-class",cookieName:"app-theme",activeClass:"active"},themeCover:{toggleAttr:'data-toggle="theme-cover-selector"',classAttr:"data-theme-cover-class",cookieName:"app-theme-cover",activeClass:"active"}},dismissClass:{toggleAttr:"data-dismiss-class",targetAttr:"data-dismiss-target"},toggleClass:{toggleAttr:"data-toggle-class",targetAttr:"data-toggle-target"},font:{family:getComputedStyle(document.body).getPropertyValue("--bs-body-font-family").trim(),size:getComputedStyle(document.body).getPropertyValue("--bs-body-font-size").trim(),weight:getComputedStyle(document.body).getPropertyValue("--bs-body-font-weight").trim()},color:{theme:getComputedStyle(document.body).getPropertyValue("--bs-theme").trim(),blue:getComputedStyle(document.body).getPropertyValue("--bs-blue").trim(),green:getComputedStyle(document.body).getPropertyValue("--bs-green").trim(),orange:getComputedStyle(document.body).getPropertyValue("--bs-orange").trim(),red:getComputedStyle(document.body).getPropertyValue("--bs-red").trim(),cyan:getComputedStyle(document.body).getPropertyValue("--bs-cyan").trim(),purple:getComputedStyle(document.body).getPropertyValue("--bs-purple").trim(),yellow:getComputedStyle(document.body).getPropertyValue("--bs-yellow").trim(),indigo:getComputedStyle(document.body).getPropertyValue("--bs-indigo").trim(),pink:getComputedStyle(document.body).getPropertyValue("--bs-pink").trim(),black:getComputedStyle(document.body).getPropertyValue("--bs-black").trim(),white:getComputedStyle(document.body).getPropertyValue("--bs-white").trim(),gray:getComputedStyle(document.body).getPropertyValue("--bs-gray").trim(),dark:getComputedStyle(document.body).getPropertyValue("--bs-dark").trim(),gray100:getComputedStyle(document.body).getPropertyValue("--bs-gray-100").trim(),gray200:getComputedStyle(document.body).getPropertyValue("--bs-gray-200").trim(),gray300:getComputedStyle(document.body).getPropertyValue("--bs-gray-300").trim(),gray400:getComputedStyle(document.body).getPropertyValue("--bs-gray-400").trim(),gray500:getComputedStyle(document.body).getPropertyValue("--bs-gray-500").trim(),gray600:getComputedStyle(document.body).getPropertyValue("--bs-gray-600").trim(),gray700:getComputedStyle(document.body).getPropertyValue("--bs-gray-700").trim(),gray800:getComputedStyle(document.body).getPropertyValue("--bs-gray-800").trim(),gray900:getComputedStyle(document.body).getPropertyValue("--bs-gray-900").trim(),themeRgb:getComputedStyle(document.body).getPropertyValue("--bs-theme-rgb").trim(),blueRgb:getComputedStyle(document.body).getPropertyValue("--bs-blue-rgb").trim(),greenRgb:getComputedStyle(document.body).getPropertyValue("--bs-green-rgb").trim(),orangeRgb:getComputedStyle(document.body).getPropertyValue("--bs-orange-rgb").trim(),redRgb:getComputedStyle(document.body).getPropertyValue("--bs-red-rgb").trim(),cyanRgb:getComputedStyle(document.body).getPropertyValue("--bs-cyan-rgb").trim(),purpleRgb:getComputedStyle(document.body).getPropertyValue("--bs-purple-rgb").trim(),yellowRgb:getComputedStyle(document.body).getPropertyValue("--bs-yellow-rgb").trim(),indigoRgb:getComputedStyle(document.body).getPropertyValue("--bs-indigo-rgb").trim(),pinkRgb:getComputedStyle(document.body).getPropertyValue("--bs-pink-rgb").trim(),blackRgb:getComputedStyle(document.body).getPropertyValue("--bs-black-rgb").trim(),whiteRgb:getComputedStyle(document.body).getPropertyValue("--bs-white-rgb").trim(),grayRgb:getComputedStyle(document.body).getPropertyValue("--bs-gray-rgb").trim(),darkRgb:getComputedStyle(document.body).getPropertyValue("--bs-dark-rgb").trim(),gray100Rgb:getComputedStyle(document.body).getPropertyValue("--bs-gray-100-rgb").trim(),gray200Rgb:getComputedStyle(document.body).getPropertyValue("--bs-gray-200-rgb").trim(),gray300Rgb:getComputedStyle(document.body).getPropertyValue("--bs-gray-300-rgb").trim(),gray400Rgb:getComputedStyle(document.body).getPropertyValue("--bs-gray-400-rgb").trim(),gray500Rgb:getComputedStyle(document.body).getPropertyValue("--bs-gray-500-rgb").trim(),gray600Rgb:getComputedStyle(document.body).getPropertyValue("--bs-gray-600-rgb").trim(),gray700Rgb:getComputedStyle(document.body).getPropertyValue("--bs-gray-700-rgb").trim(),gray800Rgb:getComputedStyle(document.body).getPropertyValue("--bs-gray-800-rgb").trim(),gray900Rgb:getComputedStyle(document.body).getPropertyValue("--bs-gray-900-rgb").trim()},card:{expand:{status:!1,toggleAttr:'data-toggle="card-expand"',toggleTitle:"Expand / Compress",class:"card-expand"}},init:{attr:"data-init",class:"app-init"}},handleScrollbar=function(){"use strict";for(var e=document.querySelectorAll("["+app.scrollBar.attr+"]"),t=0;t<e.length;t++)generateScrollbar(e[t])},generateScrollbar=function(e){"use strict";if(!(e.scrollbarInit||app.isMobile&&e.getAttribute(app.scrollBar.skipMobileAttr))){var t=e.getAttribute(app.scrollBar.heightAttr)?e.getAttribute(app.scrollBar.heightAttr):e.offsetHeight;if(e.style.height=t,e.scrollbarInit=!0,app.isMobile)e.style.overflowX="scroll";else{var a=!!e.getAttribute(app.scrollBar.wheelPropagationAttr)&&e.getAttribute(app.scrollBar.wheelPropagationAttr);e.closest("."+app.sidebar.class)&&0!==e.closest("."+app.sidebar.class).length?app.sidebar.scrollBar.dom=new PerfectScrollbar(e,{wheelPropagation:a}):new PerfectScrollbar(e,{wheelPropagation:a})}e.setAttribute(app.init.attr,!0),e.classList.remove("invisible")}},handleSidebarMenuToggle=function(e){e.map(function(t){t.onclick=function(t){t.preventDefault();var a=this.nextElementSibling;e.map(function(e){var t=e.nextElementSibling;t!==a&&(t.style.display="none",t.closest("."+app.sidebar.menu.itemClass).classList.remove(app.sidebar.menu.expandClass))});var r=a.closest("."+app.sidebar.menu.itemClass);r.classList.contains(app.sidebar.menu.expandClass)||r.classList.contains(app.sidebar.menu.activeClass)&&!a.style.display?(r.classList.remove(app.sidebar.menu.expandClass),a.style.display="none"):(r.classList.add(app.sidebar.menu.expandClass),a.style.display="block")}})},handleSidebarMenu=function(){"use strict";var e="."+app.sidebar.class+" ."+app.sidebar.menu.class+" > ."+app.sidebar.menu.itemClass+"."+app.sidebar.menu.hasSubClass,t=" > ."+app.sidebar.menu.submenu.class+" > ."+app.sidebar.menu.itemClass+"."+app.sidebar.menu.hasSubClass,a=e+" > ."+app.sidebar.menu.itemLinkClass;handleSidebarMenuToggle([].slice.call(document.querySelectorAll(a))),handleSidebarMenuToggle([].slice.call(document.querySelectorAll(e+t+" > ."+app.sidebar.menu.itemLinkClass))),handleSidebarMenuToggle([].slice.call(document.querySelectorAll(e+t+t+" > ."+app.sidebar.menu.itemLinkClass)))},handleSidebarActiveLink=function(){var e=window.location.toString().split("?")[0];(e==window.location.origin||e==window.location.origin+"/")&&(e=window.location.origin+"/index.php"),$("div.menu-item a").filter(function(){return this.href==e}).parent().addClass("active")},handleSidebarAutoCollapse=function(){$(document).ready(function(){var e=document.getElementById("app");"1"==localStorage.getItem("collapseSideBar")?(e.classList.add("app-sidebar-collapsed"),e.classList.remove("app-sidebar-toggled",!0)):(e.classList.remove("app-sidebar-collapsed",!0),e.classList.add("app-sidebar-toggled",!0)),$(".mobile-toggler").click(function(){e.classList.toggle("app-sidebar-mobile-toggled")}),$(".desktop-toggler").click(function(){"0"==localStorage.getItem("collapseSideBar")?(localStorage.setItem("collapseSideBar","1"),e.classList.remove("app-sidebar-toggled",!0),e.classList.add("app-sidebar-collapsed")):(localStorage.setItem("collapseSideBar","0"),e.classList.remove("app-sidebar-collapsed",!0),e.classList.add("app-sidebar-toggled",!0))})})},handleSidebarScrollMemory=function(){if(!app.isMobile)try{if("undefined"!=typeof Storage&&"undefined"!=typeof localStorage){var e=document.querySelector("."+app.sidebar.class+" ["+app.scrollBar.attr+"]");if(e){e.onscroll=function(){localStorage.setItem(app.sidebar.scrollBar.localStorage,this.scrollTop)};var t=localStorage.getItem(app.sidebar.scrollBar.localStorage);t&&(document.querySelector("."+app.sidebar.class+" ["+app.scrollBar.attr+"]").scrollTop=t)}}}catch(a){console.log(a)}},handleCardAction=function(){"use strict";if(app.card.expand.status)return!1;app.card.expand.status=!0,[].slice.call(document.querySelectorAll("["+app.card.expand.toggleAttr+"]")).map(function(e){return e.onclick=function(e){e.preventDefault();var t=this.closest(".card"),a=app.card.expand.class;document.body.classList.contains(a)&&t.classList.contains(a)?(t.removeAttribute("style"),t.classList.remove(a),document.body.classList.remove(a)):(document.body.classList.add(a),t.classList.add(a)),window.dispatchEvent(new Event("resize"))},new bootstrap.Tooltip(e,{title:app.card.expand.toggleTitle,placement:"bottom",trigger:"hover",container:"body"})})},handleTooltipPopoverActivation=function(){"use strict";[].slice.call(document.querySelectorAll("["+app.bootstrap.tooltip.attr+"]")).map(function(e){return new bootstrap.Tooltip(e)}),[].slice.call(document.querySelectorAll("["+app.bootstrap.popover.attr+"]")).map(function(e){return new bootstrap.Popover(e)})},handleScrollToTopButton=function(){"use strict";var e=[].slice.call(document.querySelectorAll("["+app.scrollToTopBtn.toggleAttr+"]"));document.onscroll=function(){var t=document.documentElement,a=(window.pageYOffset||t.scrollTop)-(t.clientTop||0);e.map(function(e){a>=app.scrollToTopBtn.heightShow?e.classList.contains(app.scrollToTopBtn.showClass)||e.classList.add(app.scrollToTopBtn.showClass):e.classList.remove(app.scrollToTopBtn.showClass)});var r=document.querySelectorAll(app.id)[0];a>0?r.classList.add(app.header.hasScrollClass):r.classList.remove(app.header.hasScrollClass)},e.map(function(e){e.onclick=function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}})},hexToRgba=function(e,t=1){var a;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e))return 3==(a=e.substring(1).split("")).length&&(a=[a[0],a[0],a[1],a[1],a[2],a[2]]),"rgba("+[(a="0x"+a.join(""))>>16&255,a>>8&255,255&a].join(",")+","+t+")";throw Error("Bad Hex")},handleScrollTo=function(){[].slice.call(document.querySelectorAll("["+app.scrollTo.attr+"]")).map(function(e){e.onclick=function(t){t.preventDefault();var a=e.getAttribute(app.scrollTo.target)?this.getAttribute(app.scrollTo.target):this.getAttribute(app.scrollTo.linkTarget),r=document.querySelectorAll(a)[0],o=document.querySelectorAll(app.header.id)[0].offsetHeight;if(r){var s=r.offsetTop-o-24;window.scrollTo({top:s,behavior:"smooth"})}}})},handleFullScreen=function(){$(document).ready(function(){var e=document.documentElement,t=document.getElementById("fullscreen-toggler-icon");$(".fullscreen-toggler").click(function(){document.fullscreenElement?(document.exitFullscreen(),t.setAttribute("class","fa-solid fa-expand nav-icon")):(e.requestFullscreen().catch(e=>{console.log("[J.O.H.N.] Error attempting to enable fullscreen mode")}),t.setAttribute("class","fa-solid fa-compress nav-icon"))})})},handleInternetConnection=function(){let e=Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2500,timerProgressBar:!0,icon:"error"});var t=!0;$.ajax({url:window.location.href,type:"HEAD",timeout:2500,success:function(){!1==t&&location.reload(),t=!0},error:function(){console.log("[J.O.H.N.] Lost connection to server!"),e.fire({title:"Lost connection to server!"}),t=!1}}),setTimeout(handleInternetConnection,5e3)},handlePageErrors=function(){let e=Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2500,timerProgressBar:!0});var t=0;window.onerror=function(){++t<0&&location.reload(),1==t&&e.fire({title:"A problem has been detected!",icon:"info"}),2==t&&e.fire({title:"Some problems has been detected!",icon:"warning"}),3==t&&e.fire({title:"The WebApp seems to be unstable!",icon:"warning"}),4==t&&e.fire({title:"The WebApp detected critical errors!",icon:"error"}),t>=5&&location.reload()}},handleStuckPace=function(){var e=0,t=setInterval(function(){var a;void 0!==document.querySelector(".pace-progress").getAttribute("data-progress-text")&&(a=Number(document.querySelector(".pace-progress").getAttribute("data-progress-text").replace("%",""))),99===a&&e++,e>50&&(clearInterval(t),Pace.stop())},100)},App={init:function(){this.initComponent(),this.initSidebar(),this.initAppLoad()},initAppLoad:function(){document.querySelector("body").classList.add(app.init.class)},initSidebar:function(){handleSidebarMenu(),handleSidebarScrollMemory(),handleSidebarActiveLink(),handleSidebarAutoCollapse()},initComponent:function(){handleScrollbar(),handleScrollToTopButton(),handleScrollTo(),handleCardAction(),handleTooltipPopoverActivation(),handleFullScreen(),handleInternetConnection(),handlePageErrors(),handleStuckPace()},scrollTop:function(){window.scrollTo({top:0,behavior:"smooth"})}};document.addEventListener("DOMContentLoaded",function(){App.init()});
